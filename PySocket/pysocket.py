#!/usr/bin/python3
from colorama import Fore
import socket
import time
import sys

if __name__ == '__main__':
	print(Fore.WHITE + """
██████╗ ██╗   ██╗███████╗ ██████╗  ██████╗██╗  ██╗███████╗████████╗
██╔══██╗╚██╗ ██╔╝██╔════╝██╔═══██╗██╔════╝██║ ██╔╝██╔════╝╚══██╔══╝
██████╔╝ ╚████╔╝ ███████╗██║   ██║██║     █████╔╝ █████╗     ██║   
██╔═══╝   ╚██╔╝  ╚════██║██║   ██║██║     ██╔═██╗ ██╔══╝     ██║   
██║        ██║   ███████║╚██████╔╝╚██████╗██║  ██╗███████╗   ██║   
╚═╝        ╚═╝   ╚══════╝ ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝   ╚═╝   
""")
	if len(sys.argv) == 1:
		print(Fore.YELLOW + '[!] Usage python3 pysocket.py -h\n')

	elif sys.argv[1] == '-t' and sys.argv[3] == '-p':
		print(Fore.WHITE + 'Starting scan on host:', sys.argv[2])
		start_time = time.time()
		ip = sys.argv[2]
		num_port = sys.argv[4]		
		
		def scan_port(port):
			s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
			try:
				s.connect((ip, port))
				s.close()
				socket.setdefaulttimeout(10)
				print(Fore.GREEN + f"[+] " +  Fore.WHITE + "Port: " + Fore.YELLOW + f"{i}" + Fore.GREEN + " open")
			except:
				pass

		for i in range(1, int(num_port)+1):
			pass
			if scan_port(i) == True:
				pass
				
		print(Fore.WHITE + 'Scanner done: ' + 'IP address UP' + ' scaned in', time.time() - start_time)
	else: 
		if sys.argv[1] == '-h':
			print("Usage: python3 pysocket.py -t [IP] -p [PORT]\n \t-t\tip address victim\n\t-p\tPort number (default number port 1-[RANGE PORT]\n\t\tscan first port to the port number you have assigned")
			print("Example: \n[+] python3 pysocket.py -t 10.0.2.15 -p 80")